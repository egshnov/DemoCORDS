Алгоритм cords:

1.Генерация кандидатов:
Кандидат определяется как триплет (a1,a2, P),
Где a1, a2  - столбцы, P - правило сопряжения (правило по которому столбец a1 сопоставляется столбцу a2)
Аналогично B - hunt cords сначал генерирует кандидатов с тривиальным правилом сопряжения,
под тривиальным правилом сопряжения подразуемевается случай когда столбцы лежат в одной таблице и каждое значение
столбца a1 сопоставляется некоторому значению столбца a2, лежащему в той же строке. По всей видимости подразумеваются
всевозможные пары столбцов исходной таблицы.
Затем cords пытается найти столбцы с "нетривиальным" правилом сопряжения ("look like" key-to-foreign-key joint predicate)

Для этого cords инициализирует множество K состоящее из:
1) Столбцов помеченных как первичный ключ или уникальный ключ
(если правильно понимаю то этот способ для Desbordante неактуален)
2) Столбцов a не принадлежащих к типу 1, таких что distinct_values(a)/rows(a) >= (1 - e)

Для каждого столбца a из K cords исследует все оставшиеся столбы в схеме  чтобы найти потенциальные "совпадения"
#TODO: не совсем понятно что подразумевается под схемой, множество K или исходная таблица UPD: в терминологии БД под схемой  вроде как можно подразумевать таблицу (если несколько абузить нотацию).

Столбец a образует совпадение со столбцом b, если:

1) a объявлен как primary key, b объявлен foreign key для primary key
(Опять таки насколько я понимаю данный случай для desbordante неактуален)

2) каждое значение в сэмпле столбца b имеет соответсвующее значение в a
#TODO: уникальное и только ему????? если да то как?
Сэмпл b не обязательно должен быть большим, в их реализации он состоял
из нескольких сотен строк  #TODO:(????????)

Для комплексных схем (таблиц?) набор кандидатов обычно достаточно большой.
Поэтому обычно cords может применять нижеизложенные эвристики для сокращения области поиска:

1)Типовые ограничения
Обрезать кандидатов  чей тип не соответветсует определенному набору,
например рассматривать в качестве кандидатов только целочисленные столбцы, или строковые литералы
(или наоборот не рассматривать такие столбцы в качестве кандидатов)

2) Статистические ограничения
Обрезать кандидатов (и таблицы сто неактуально для desbordante), у которых нет определенных статистических свойств
например, недостаточное количество различающихся значений

3) Обрезать кандидатов чьи правила сопряжения не удовлетворяют определенным критериям,
например, разрешить только правила сопряжения которые соответсвуют явно объявленным
primary - key - to - foreign - key  отношениям.
(видимо неактуально для desbordante)

4) Ограничения нагрузки:
Обрезать кандидатов чьи столбцы не появляются хотя бы раз в предикате
равенства запросов (неактуально для desbordante)

2. Выборочное тестирование на корреляцию
Каждому кандидату (a1 , a2 , P) сгенерированному cords соответсвует множество W содержащее N (>1)
пар значений столбцов вида (x1,x2) (т.е. x1 значение столбца a1, x2 - значение столбца a2,
(лежат в одной строке)), где область значений x_i состоит из d_i  различных значений (i = 1,2)
В данной секции объясняется каким образом cords выявляет наличие зависимости между столбцами
на основе рандомного сэмпла W.
Ключевым наблюденияем является то что размер сэмпла требуемый для определенно степени
точности практически не зависит от размера базы данных
Мы предлагаем closed- form (????) приблизительное выражние для требуемого размера сэмпла.

Изначально предположим что d1 и d2 не слишком велики и не умоляя обшности прпедоложим что
i - й домен имеет вид D_i = {1,2, ..., d_i} мы препдпологаем что домен известен,например,
из системного каталога. Так же предположим что сэмрл используемый для определения корреляции
является простой случайной выборкой с заменой (всевозможные выбранные варианты равновероятны)
Посколько частота выборки предположение о выборке с заменой имеет принебрежительно малое
влияние на анализ
Существует множество различных мер ассоциации между двумя аттрибутами(столбцами),
смотри оригинал статьи для формулы phi^2 с пояснениями.
0<= phi^2<=1,
случай phi^2 = 0 соответствует полной факторизуемости совместного распределения частот
т.е. pi_ij = p_i. * p_.j для всех i, j. Если условие факторизуеомсти удерживается
и мы сэмплируем пару значений столбцов (X1, X2) рандомно из W, то X1 статистически неазависимо от X2
Далее под словом независимость будет подразумеваться факторизуемость.
Случай phi^2 = 1 соответсвует hard fd.
В реальных или даже синтетических датасетах где значения столбцов генерируется независимо с
с использованием генераторов псевдослучайных чисел.

БЛА БЛА БЛА БЛА БЛА если че то непонятно смотри исходную статью

Чтобы проверить что корреляция есть т.е. проверить что phi^2 > eps
(и при этом не считать phi^2 для всего набора значений двух столбцов видимо)
Обозначим ожидаемое значение phi^2 как phi^2 с крышечкой
формулу для phi^2 с крышечкой смотри в исходной статье.
Тест отвергает гипотезу о независимости аттрибутов при phi^2 с крышечкой > u, где u
это указанная константа. Аналогично критерий теста имеет форму chi^2 > t ( формула chi^2 в статье)
Мы выбираем t таким образом что в худшем случае вероятность неверно
отвергнуть гипотезу независимости меньше чем предопределенная константа p.
Под худшим случаем подразумевается сценарй в котором гипотеза незавимости "еле удерживается" т.е.
phi^2 = e, в таком случае тестовая статистика chi^2 имеет приблизетльное нецентральное
хи - квадрат распрделение с v степенеми свободы и параметром нецнтральности равным n(d-1)e.
Т.к. e крайне мало мы можем приблизить значение chi^2 при помощи обычного хи кадрат распрделения с v степенями свободы
таким образом мы устанавливаем t = <формула под таблицей 1 на странице 6>.

Обратите внимание что наша процедура эквивалентна вычислению величины
p* = <формула> и отверганию гипотезы независимости при p* меньше чем
отсекающее значение p ("отсекающее" это название значения p)
Величиная p* также называемая p - значением это
вероятность того, что значение chi^2 будет столь же велико (или больше),
чем реально наблюдаемое значение, в предположении, что признаки действительно независимы.
Таким образом чем меньше p-значение тем выше вероятность того что столбцы коррелируют.
Обрезанное значение p это максимально разрешенная вероятность неврного утверждения о корреляции
в пристуствии незавимсости (говорим что коррелируют хотя независимы).

Чтобы определить размер сэмпла n мы фиксируем маленькую константу delta ? eps и
делаем достаточно много тестов чтобы в случаях когда phi^2 >= delta тест корректно отвергал
гипотезу незавимости с веротяностью как минимум 1 - p. Т.е. мы выбираем n таким образом что
G(v,lambda, t) = p. Здесь G(v,lambda, t) означает Критерий распределния функции нецентральногоо
хи квадратного распределения с v степенями свободы и параметром нецнтральности lambda где lambda
зависит от n через соотношение lambda = n(d-1)delta. Обратим внимание что как было указано ранее
размер сэмпла практически не зависит от от размера датасета.
Следующее приближение может быть использвано для примерного выччисления n через параметры p, d1,d2
<формула (2)> данное приближение верно с точностью около двух процентов.

Из вышеизложенного следует, что выборка из нескольких
тысяч строк должна давать приемлемые результаты, независимо от
размера датасета.

Есть несколько важных нюансов всплывающих при применени вышеописанного хи квадратного теста.
Используются обозначения из формул так что смотри исходную статью:
